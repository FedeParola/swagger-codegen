{{>partial_header}}

package cmd

{{#operations}}

import (
  {{#imports}}
  "{{{import}}}"
  {{/imports}}
  "fmt"
  "github.com/sebymiano/cobra"
)

{{#operation}}
{{! If there is not a create method available for that operation
we do not create the command }}
{{#isRestfulCreate}}
{{#vendorExtensions.x-cliParam}}
var {{commandName}} = &cobra.Command {
  Use:      "{{commandUse}}",
  Short:    "{{summary}}",
  {{#exampleUse}}Example:  "{{exampleUse}}" {{/exampleUse}},
  Run: func(cmd *cobra.Command, args []string) {
    {{#hasPathParams}}
    i := 0
    {{/hasPathParams}}

    {{#pathParams}}
    {{paramName}} := args[i++]
    {{/pathParams}}

    {{! TODO: This is the main method where we make the request}}
    fmt.Printf("POST {{path}}"{{#pathParams}}, {{paramName}}{{/pathParams}})
  },
}

{{/vendorExtensions.x-cliParam}}
{{/isRestfulCreate}}
{{/operation}}

func init() {
{{#operation}}
{{#isRestfulCreate}}
{{#vendorExtensions.x-cliParam}}

{{parentCommand}}.AddCommand({{commandName}})

{{#pathParams}}
{{commandName}}.AddParameter("{{paramName}}")
{{/pathParams}}

{{/vendorExtensions.x-cliParam}}
{{/isRestfulCreate}}
{{/operation}}
}

{{/operations}}
